<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Portal - Browse Jobs</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Global Styles */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 0;
        }
        /* Header Styles */
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 20px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        nav ul li a:hover {
            color: #3498db;
        }
        /* Search Section */
        
        .search-section {
            background-color: #3498db;
            padding: 30px 0;
            margin-bottom: 30px;
        }
        
        .search-form {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .search-input {
            flex: 1;
            min-width: 200px;
            padding: 12px 15px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .search-button {
            background-color: #2c3e50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        .search-button:hover {
            background-color: #1a252f;
        }
        /* Filters */
        
        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
        }
        
        .filter-group {
            display: flex;
            align-items: center;
        }
        
        .filter-label {
            margin-right: 10px;
            font-weight: 500;
        }
        
        .filter-select {
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        /* Job Listings */
        
        .job-listings {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
        }
        
        .job-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 25px;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .job-title {
            font-size: 20px;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .job-company {
            font-weight: 500;
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .job-location,
        .job-salary,
        .job-type {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            color: #555;
        }
        
        .job-location i,
        .job-salary i,
        .job-type i {
            margin-right: 8px;
            color: #7f8c8d;
        }
        
        .job-description {
            margin: 15px 0;
            color: #555;
        }
        
        .apply-button {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 8px 20px;
            border-radius: 4px;
            text-decoration: none;
            transition: background-color 0.3s;
            cursor: pointer;
        }
        
        .apply-button:hover {
            background-color: #2980b9;
        }
        
        .applied-badge {
            color: #27ae60;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-right: 10px;
        }
        
        .job-posted {
            font-size: 14px;
            color: #95a5a6;
            margin-top: 15px;
        }
        /* Pagination */
        
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 40px;
        }
        
        .pagination a {
            color: #2c3e50;
            padding: 8px 16px;
            text-decoration: none;
            border: 1px solid #ddd;
            margin: 0 4px;
            border-radius: 4px;
            transition: background-color 0.3s;
            cursor: pointer;
        }
        
        .pagination a.active {
            background-color: #3498db;
            color: white;
            border: 1px solid #3498db;
        }
        
        .pagination a:hover:not(.active) {
            background-color: #ddd;
        }
        /* Saved Jobs Indicator */
        
        .saved-jobs-count {
            background-color: #e74c3c;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 12px;
            margin-left: 5px;
        }
        /* Modal Styles */
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            color: black;
        }
        /* Application Form Styles */
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="url"],
        .form-group textarea,
        .form-group input[type="file"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .form-group small {
            display: block;
            margin-top: 5px;
            color: #666;
            font-size: 12px;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .checkbox-group input {
            margin-right: 10px;
        }
        
        .submit-application-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.3s;
        }
        
        .submit-application-btn:hover {
            background-color: #2980b9;
        }
        /* Client Information Section */
        
        .client-info-section {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }
        
        .client-info-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .client-info-item {
            margin-bottom: 5px;
            display: flex;
        }
        
        .client-info-label {
            font-weight: 500;
            min-width: 120px;
            color: #555;
        }
        
        .client-info-value {
            flex: 1;
        }
        /* Responsive Design */
        
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                text-align: center;
            }
            nav ul {
                margin-top: 15px;
                justify-content: center;
            }
            .job-listings {
                grid-template-columns: 1fr;
            }
            .client-info-item {
                flex-direction: column;
            }
            .client-info-label {
                margin-bottom: 3px;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container header-container">
            <div class="logo">JobPortal</div>
            <nav>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#" class="active">Browse Jobs</a></li>
                    <li><a href="#">Companies</a></li>
                    <li><a href="#">Dashboard</a></li>
                    <li><a href="#" id="saved-jobs-link">Saved Jobs <span id="saved-jobs-count" class="saved-jobs-count">0</span></a></li>
                    <li><a href="#">Login/Register</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="search-section">
        <div class="container">
            <form class="search-form" id="job-search-form">
                <input type="text" class="search-input" id="job-title-input" placeholder="Job title, keywords, or company">
                <input type="text" class="search-input" id="location-input" placeholder="Location">
                <button type="submit" class="search-button">Search Jobs</button>
            </form>
        </div>
    </section>

    <main class="container">
        <div class="filters">
            <div class="filter-group">
                <span class="filter-label">Filter by:</span>
                <select class="filter-select" id="job-type-filter">
                    <option value="all">All Jobs</option>
                    <option value="full-time">Full-time</option>
                    <option value="part-time">Part-time</option>
                    <option value="remote">Remote</option>
                    <option value="contract">Contract</option>
                </select>
            </div>

            <div class="filter-group">
                <span class="filter-label">Sort by:</span>
                <select class="filter-select" id="sort-by">
                    <option value="recent">Most Recent</option>
                    <option value="salary">Highest Salary</option>
                    <option value="applied">Most Applied</option>
                </select>
            </div>
        </div>

        <div class="job-listings" id="job-listings-container">
            <!-- Job listings will be dynamically inserted here -->
        </div>

        <div class="pagination" id="pagination">
            <a href="#" class="page-nav" data-page="prev">&laquo;</a>
            <!-- Page numbers will be dynamically inserted here -->
            <a href="#" class="page-nav" data-page="next">&raquo;</a>
        </div>
    </main>

    <!-- Application Form Modal -->
    <div id="application-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Apply for <span id="modal-job-title"></span></h2>
            <p>at <span id="modal-company-name"></span></p>

            <!-- Client Information Section -->
            <div class="client-info-section">
                <div class="client-info-title">Hiring Information</div>
                <div class="client-info-item">
                    <span class="client-info-label">Contact Person:</span>
                    <span class="client-info-value" id="client-contact-person"></span>
                </div>
                <div class="client-info-item">
                    <span class="client-info-label">Contact Email:</span>
                    <span class="client-info-value" id="client-email"></span>
                </div>
                <div class="client-info-item">
                    <span class="client-info-label">Contact Phone:</span>
                    <span class="client-info-value" id="client-phone"></span>
                </div>
                <div class="client-info-item">
                    <span class="client-info-label">Application Deadline:</span>
                    <span class="client-info-value" id="application-deadline"></span>
                </div>
                <div class="client-info-item">
                    <span class="client-info-label">Special Instructions:</span>
                    <span class="client-info-value" id="client-notes"></span>
                </div>
            </div>

            <form id="job-application-form">
                <div class="form-group">
                    <label for="applicant-name">Full Name *</label>
                    <input type="text" id="applicant-name" required>
                </div>
                <div class="form-group">
                    <label for="applicant-email">Email *</label>
                    <input type="email" id="applicant-email" required>
                </div>
                <div class="form-group">
                    <label for="applicant-phone">Phone Number</label>
                    <input type="tel" id="applicant-phone">
                </div>
                <div class="form-group">
                    <label for="applicant-resume">Resume/CV *</label>
                    <input type="file" id="applicant-resume" accept=".pdf,.doc,.docx" required>
                    <small>Accepted formats: PDF, DOC, DOCX (Max 5MB)</small>
                </div>
                <div class="form-group">
                    <label for="applicant-portfolio">Portfolio/Website</label>
                    <input type="url" id="applicant-portfolio" placeholder="https://">
                </div>
                <div class="form-group">
                    <label for="applicant-cover-letter">Cover Letter</label>
                    <textarea id="applicant-cover-letter" rows="6" placeholder="Tell us why you're a good fit for this position..."></textarea>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="agree-terms" required>
                    <label for="agree-terms">I agree to the terms and conditions *</label>
                </div>
                <button type="submit" class="submit-application-btn">Submit Application</button>
            </form>
        </div>
    </div>

    <footer>
        <!-- Footer content would go here -->
    </footer>

    <script>
        // Job data with client information
        const jobs = [{
            id: 1,
            title: "Frontend Developer",
            company: "Tech Solutions Inc.",
            location: "San Francisco, CA (Remote)",
            salary: "$90,000 - $120,000 per year",
            type: "full-time",
            description: "We're looking for a skilled Frontend Developer with experience in React.js to join our growing team. You'll work on building responsive user interfaces for our SaaS platform.",
            posted: "2 days ago",
            postedDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
            salaryMin: 90000,
            salaryMax: 120000,
            applications: 24,
            clientInfo: {
                contactPerson: "Sarah Johnson (HR Manager)",
                email: "hr@techsolutions.com",
                phone: "(415) 555-1234",
                deadline: "June 15, 2023",
                notes: "Please include your GitHub profile or portfolio link in your application."
            }
        }, {
            id: 2,
            title: "UX/UI Designer",
            company: "Creative Minds LLC",
            location: "New York, NY",
            salary: "$80,000 - $100,000 per year",
            type: "full-time",
            description: "Join our design team to create beautiful, intuitive interfaces for web and mobile applications. Must have portfolio demonstrating UX process and visual design skills.",
            posted: "1 week ago",
            postedDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),
            salaryMin: 80000,
            salaryMax: 100000,
            applications: 18,
            clientInfo: {
                contactPerson: "Michael Chen (Design Lead)",
                email: "design@creativeminds.com",
                phone: "(212) 555-5678",
                deadline: "June 30, 2023",
                notes: "Portfolio review will be the first step in our interview process."
            }
        }, {
            id: 3,
            title: "Backend Engineer",
            company: "DataSystems Corp",
            location: "Austin, TX (Hybrid)",
            salary: "$110,000 - $140,000 per year",
            type: "full-time",
            description: "Seeking experienced Backend Engineer proficient in Node.js and Python to develop and maintain our API services and database architecture.",
            posted: "3 days ago",
            postedDate: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
            salaryMin: 110000,
            salaryMax: 140000,
            applications: 32,
            clientInfo: {
                contactPerson: "David Wilson (Engineering Manager)",
                email: "engineering@datasystems.com",
                phone: "(512) 555-9012",
                deadline: "July 10, 2023",
                notes: "Experience with cloud infrastructure (AWS/Azure) is a plus. Please highlight relevant experience in your cover letter."
            }
        }, {
            id: 4,
            title: "Marketing Specialist",
            company: "Growth Marketing Co.",
            location: "Chicago, IL",
            salary: "$60,000 - $75,000 per year",
            type: "full-time",
            description: "Looking for a creative Marketing Specialist to develop and execute digital marketing campaigns across various channels including social media and email.",
            posted: "5 days ago",
            postedDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
            salaryMin: 60000,
            salaryMax: 75000,
            applications: 12,
            clientInfo: {
                contactPerson: "Emily Rodriguez (Marketing Director)",
                email: "marketing@growthmarketing.com",
                phone: "(312) 555-3456",
                deadline: "June 25, 2023",
                notes: "Include examples of successful campaigns you've worked on. Case studies are preferred."
            }
        }, {
            id: 5,
            title: "DevOps Engineer",
            company: "CloudTech Solutions",
            location: "Remote",
            salary: "$120,000 - $150,000 per year",
            type: "contract",
            description: "Contract position for DevOps Engineer with AWS, Kubernetes, and CI/CD pipeline experience to help migrate our infrastructure to the cloud.",
            posted: "1 day ago",
            postedDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
            salaryMin: 120000,
            salaryMax: 150000,
            applications: 8,
            clientInfo: {
                contactPerson: "Robert Taylor (CTO)",
                email: "tech@cloudtechsolutions.com",
                phone: "(800) 555-7890",
                deadline: "July 5, 2023",
                notes: "6-month contract with possibility of extension. Please indicate your availability in your application."
            }
        }, {
            id: 6,
            title: "Data Scientist",
            company: "Analytics Ventures",
            location: "Boston, MA",
            salary: "$100,000 - $130,000 per year",
            type: "full-time",
            description: "Join our data team to develop machine learning models and analyze large datasets to drive business decisions. Python and SQL expertise required.",
            posted: "2 weeks ago",
            postedDate: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000),
            salaryMin: 100000,
            salaryMax: 130000,
            applications: 45,
            clientInfo: {
                contactPerson: "Dr. James Peterson (Head of Data Science)",
                email: "datascience@analyticsventures.com",
                phone: "(617) 555-2345",
                deadline: "June 20, 2023",
                notes: "PhD in quantitative field preferred but not required. Please include links to any published research."
            }
        }, {
            id: 7,
            title: "Product Manager",
            company: "InnovateTech",
            location: "Seattle, WA (Hybrid)",
            salary: "$95,000 - $125,000 per year",
            type: "full-time",
            description: "Lead product development from conception to launch. Work with cross-functional teams to deliver exceptional user experiences.",
            posted: "4 days ago",
            postedDate: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000),
            salaryMin: 95000,
            salaryMax: 125000,
            applications: 22,
            clientInfo: {
                contactPerson: "Lisa Wong (VP of Product)",
                email: "product@innovatetech.com",
                phone: "(206) 555-6789",
                deadline: "July 15, 2023",
                notes: "Experience with Agile methodologies required. Please describe your approach to product development in your cover letter."
            }
        }, {
            id: 8,
            title: "Content Writer",
            company: "Digital Media Group",
            location: "Remote",
            salary: "$50,000 - $65,000 per year",
            type: "part-time",
            description: "Create engaging content for our digital platforms. Must have excellent writing skills and ability to adapt tone for different audiences.",
            posted: "3 days ago",
            postedDate: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
            salaryMin: 50000,
            salaryMax: 65000,
            applications: 15,
            clientInfo: {
                contactPerson: "Thomas Bennett (Editorial Director)",
                email: "editorial@digitalmediagroup.com",
                phone: "(555) 555-1234",
                deadline: "Ongoing",
                notes: "Please submit 3 writing samples with your application. Include both long-form and short-form examples if possible."
            }
        }, {
            id: 9,
            title: "Senior Software Engineer",
            company: "CodeCraft Inc.",
            location: "Remote",
            salary: "$130,000 - $160,000 per year",
            type: "full-time",
            description: "We're seeking an experienced Senior Software Engineer to lead our core product development. You'll architect solutions and mentor junior engineers.",
            posted: "1 day ago",
            postedDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
            salaryMin: 130000,
            salaryMax: 160000,
            applications: 28,
            clientInfo: {
                contactPerson: "Daniel Kim (Engineering Director)",
                email: "engineering@codecraft.com",
                phone: "(888) 555-4567",
                deadline: "July 1, 2023",
                notes: "System design interview will be part of the process. Please be prepared to discuss your architectural decisions on past projects."
            }
        }, {
            id: 10,
            title: "Digital Marketing Manager",
            company: "Online Growth Partners",
            location: "Chicago, IL (Hybrid)",
            salary: "$85,000 - $110,000 per year",
            type: "full-time",
            description: "Lead our digital marketing team to develop and execute comprehensive online marketing strategies across multiple channels.",
            posted: "4 days ago",
            postedDate: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000),
            salaryMin: 85000,
            salaryMax: 110000,
            applications: 19,
            clientInfo: {
                contactPerson: "Jessica Martinez (CMO)",
                email: "marketing@onlinegrowth.com",
                phone: "(312) 555-8901",
                deadline: "June 28, 2023",
                notes: "Experience with Google Ads and Facebook Ads required. Please include performance metrics from past campaigns."
            }
        }, {
            id: 11,
            title: "Cybersecurity Analyst",
            company: "SecureNet Systems",
            location: "Washington, DC",
            salary: "$95,000 - $125,000 per year",
            type: "full-time",
            description: "Protect our systems and data by identifying vulnerabilities and implementing security measures. CISSP certification preferred.",
            posted: "1 week ago",
            postedDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),
            salaryMin: 95000,
            salaryMax: 125000,
            applications: 31,
            clientInfo: {
                contactPerson: "Mark Reynolds (Chief Security Officer)",
                email: "security@securenetsystems.com",
                phone: "(202) 555-4567",
                deadline: "July 7, 2023",
                notes: "Must be eligible for security clearance. Please indicate your clearance status in your application."
            }
        }, {
            id: 12,
            title: "Mobile App Developer",
            company: "AppVenture",
            location: "Remote",
            salary: "$100,000 - $135,000 per year",
            type: "contract",
            description: "Develop cross-platform mobile applications using Flutter. Experience with Firebase and state management required.",
            posted: "2 days ago",
            postedDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
            salaryMin: 100000,
            salaryMax: 135000,
            applications: 14,
            clientInfo: {
                contactPerson: "Amanda Lee (Product Lead)",
                email: "mobile@appventure.com",
                phone: "(555) 555-6789",
                deadline: "June 30, 2023",
                notes: "Please include links to any published apps in the Apple App Store or Google Play Store."
            }
        }];

        // DOM elements
        const jobListingsContainer = document.getElementById('job-listings-container');
        const jobSearchForm = document.getElementById('job-search-form');
        const jobTitleInput = document.getElementById('job-title-input');
        const locationInput = document.getElementById('location-input');
        const jobTypeFilter = document.getElementById('job-type-filter');
        const sortBy = document.getElementById('sort-by');
        const pagination = document.getElementById('pagination');
        const savedJobsCount = document.getElementById('saved-jobs-count');
        const savedJobsLink = document.getElementById('saved-jobs-link');
        const applicationModal = document.getElementById('application-modal');
        const modalJobTitle = document.getElementById('modal-job-title');
        const modalCompanyName = document.getElementById('modal-company-name');
        const applicationForm = document.getElementById('job-application-form');
        const closeModalBtn = document.querySelector('.close');

        // Client info elements
        const clientContactPerson = document.getElementById('client-contact-person');
        const clientEmail = document.getElementById('client-email');
        const clientPhone = document.getElementById('client-phone');
        const applicationDeadline = document.getElementById('application-deadline');
        const clientNotes = document.getElementById('client-notes');

        // State
        let currentPage = 1;
        const jobsPerPage = 6;
        let savedJobs = JSON.parse(localStorage.getItem('savedJobs')) || [];
        let appliedJobs = JSON.parse(localStorage.getItem('appliedJobs')) || [];
        let filteredJobs = [...jobs];
        let currentJobApplying = null;

        // Initialize
        updateSavedJobsCount();
        renderJobListings();
        renderPagination();

        // Event listeners
        jobSearchForm.addEventListener('submit', function(e) {
            e.preventDefault();
            filterJobs();
        });

        jobTypeFilter.addEventListener('change', filterJobs);
        sortBy.addEventListener('change', filterJobs);

        pagination.addEventListener('click', function(e) {
            if (e.target.classList.contains('page-nav')) {
                e.preventDefault();
                const action = e.target.getAttribute('data-page');
                if (action === 'prev' && currentPage > 1) {
                    currentPage--;
                } else if (action === 'next' && currentPage < Math.ceil(filteredJobs.length / jobsPerPage)) {
                    currentPage++;
                }
                renderJobListings();
                renderPagination();
            } else if (e.target.classList.contains('page-number')) {
                e.preventDefault();
                currentPage = parseInt(e.target.getAttribute('data-page'));
                renderJobListings();
                renderPagination();
            }
        });

        savedJobsLink.addEventListener('click', function(e) {
            e.preventDefault();
            // In a real app, you might show saved jobs here
            alert('Saved jobs feature would be implemented here');
        });

        // Modal close buttons
        closeModalBtn.addEventListener('click', function() {
            applicationModal.style.display = 'none';
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target === applicationModal) {
                applicationModal.style.display = 'none';
            }
        });

        // Application form submission
        applicationForm.addEventListener('submit', function(e) {
            e.preventDefault();

            // Get form data
            const resumeInput = document.getElementById('applicant-resume');
            const resumeFile = resumeInput.files.length > 0 ? resumeInput.files[0].name : '';

            const formData = {
                jobId: currentJobApplying,
                name: document.getElementById('applicant-name').value,
                email: document.getElementById('applicant-email').value,
                phone: document.getElementById('applicant-phone').value,
                resume: resumeFile,
                portfolio: document.getElementById('applicant-portfolio').value,
                coverLetter: document.getElementById('applicant-cover-letter').value,
                appliedDate: new Date().toISOString()
            };

            // In a real app, you would send this data to your server
            console.log('Application submitted:', formData);

            // Add to applied jobs
            if (currentJobApplying && !appliedJobs.includes(currentJobApplying)) {
                appliedJobs.push(currentJobApplying);
                localStorage.setItem('appliedJobs', JSON.stringify(appliedJobs));
            }

            // Show success message
            alert('Your application has been submitted successfully!');

            // Close modal and reset form
            applicationModal.style.display = 'none';
            applicationForm.reset();

            // Refresh the job listings to show the applied status
            renderJobListings();
        });

        // Functions
        function filterJobs() {
            const titleSearch = jobTitleInput.value.toLowerCase();
            const locationSearch = locationInput.value.toLowerCase();
            const jobType = jobTypeFilter.value;
            const sortOption = sortBy.value;

            filteredJobs = jobs.filter(job => {
                const matchesTitle = job.title.toLowerCase().includes(titleSearch) ||
                    job.company.toLowerCase().includes(titleSearch);
                const matchesLocation = job.location.toLowerCase().includes(locationSearch);
                const matchesType = jobType === 'all' || job.type === jobType;

                return matchesTitle && matchesLocation && matchesType;
            });

            // Sort jobs
            switch (sortOption) {
                case 'recent':
                    filteredJobs.sort((a, b) => b.postedDate - a.postedDate);
                    break;
                case 'salary':
                    filteredJobs.sort((a, b) => b.salaryMax - a.salaryMax);
                    break;
                case 'applied':
                    filteredJobs.sort((a, b) => b.applications - a.applications);
                    break;
            }

            currentPage = 1;
            renderJobListings();
            renderPagination();
        }

        function renderJobListings() {
            const startIndex = (currentPage - 1) * jobsPerPage;
            const endIndex = startIndex + jobsPerPage;
            const jobsToDisplay = filteredJobs.slice(startIndex, endIndex);

            jobListingsContainer.innerHTML = '';

            if (jobsToDisplay.length === 0) {
                jobListingsContainer.innerHTML = '<p style="grid-column: 1 / -1; text-align: center;">No jobs found matching your criteria.</p>';
                return;
            }

            jobsToDisplay.forEach(job => {
                const isSaved = savedJobs.includes(job.id);
                const isApplied = appliedJobs.includes(job.id);
                const jobCard = document.createElement('div');
                jobCard.className = 'job-card';
                jobCard.innerHTML = `
                    <h3 class="job-title">${job.title}</h3>
                    <p class="job-company">${job.company}</p>
                    <p class="job-location">
                        <i class="fas fa-map-marker-alt"></i> ${job.location}
                    </p>
                    <p class="job-salary">
                        <i class="fas fa-dollar-sign"></i> ${job.salary}
                    </p>
                    <p class="job-type">
                        <i class="fas fa-briefcase"></i> ${job.type.charAt(0).toUpperCase() + job.type.slice(1).replace('-', ' ')}
                    </p>
                    <p class="job-description">${job.description}</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            ${isApplied ? '<span class="applied-badge"><i class="fas fa-check"></i> Applied</span>' : ''}
                            <button class="apply-button" data-job-id="${job.id}" ${isApplied ? 'disabled style="background-color: #27ae60;"' : ''}>
                                ${isApplied ? 'Applied' : 'Apply Now'}
                            </button>
                        </div>
                        <button class="save-job-button" style="background: none; border: none; cursor: pointer; font-size: 20px; color: ${isSaved ? '#e74c3c' : '#95a5a6'}" data-job-id="${job.id}">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                    <p class="job-posted">Posted ${job.posted}</p>
                `;
                jobListingsContainer.appendChild(jobCard);
            });

            // Add event listeners to the new buttons
            document.querySelectorAll('.apply-button').forEach(button => {
                button.addEventListener('click', function() {
                    const jobId = parseInt(this.getAttribute('data-job-id'));
                    const job = jobs.find(j => j.id === jobId);
                    if (job) {
                        currentJobApplying = jobId;
                        modalJobTitle.textContent = job.title;
                        modalCompanyName.textContent = job.company;

                        // Set client information in the modal
                        if (job.clientInfo) {
                            clientContactPerson.textContent = job.clientInfo.contactPerson;
                            clientEmail.textContent = job.clientInfo.email;
                            clientPhone.textContent = job.clientInfo.phone; // Added missing semicolon
                            applicationDeadline.textContent = job.clientInfo.deadline;
                            clientNotes.textContent = job.clientInfo.notes;
                        } else {
                            // Default values if no client info is provided
                            clientContactPerson.textContent = "Not specified";
                            clientEmail.textContent = "Not specified";
                            clientPhone.textContent = "Not specified";
                            applicationDeadline.textContent = "Not specified";
                            clientNotes.textContent = "None";
                        }


                        applicationModal.style.display = 'block';
                    }
                });
            });

            document.querySelectorAll('.save-job-button').forEach(button => {
                button.addEventListener('click', function() {
                    const jobId = parseInt(this.getAttribute('data-job-id'));
                    const heartIcon = this.querySelector('i');
                    const index = savedJobs.indexOf(jobId);

                    if (index === -1) {
                        savedJobs.push(jobId);
                        heartIcon.style.color = '#e74c3c';
                    } else {
                        savedJobs.splice(index, 1);
                        heartIcon.style.color = '#95a5a6';
                    }

                    localStorage.setItem('savedJobs', JSON.stringify(savedJobs));
                    updateSavedJobsCount();
                });
            });
        }

        function renderPagination() {
            const totalPages = Math.ceil(filteredJobs.length / jobsPerPage);
            const paginationContainer = document.getElementById('pagination');

            // Clear existing page numbers (keep prev/next buttons)
            const existingLinks = Array.from(paginationContainer.children);
            existingLinks.forEach(link => {
                if (!link.classList.contains('page-nav')) {
                    paginationContainer.removeChild(link);
                }
            });

            // Find the prev and next buttons
            const prevLink = document.querySelector('.page-nav[data-page="prev"]');
            const nextLink = document.querySelector('.page-nav[data-page="next"]');

            // Insert page numbers before the next button
            for (let i = 1; i <= totalPages; i++) {
                const pageLink = document.createElement('a');
                pageLink.href = '#';
                pageLink.className = `page-number ${i === currentPage ? 'active' : ''}`;
                pageLink.textContent = i;
                pageLink.setAttribute('data-page', i);
                paginationContainer.insertBefore(pageLink, nextLink);
            }

            // Disable prev/next buttons when appropriate
            prevLink.style.display = currentPage === 1 ? 'none' : '';
            nextLink.style.display = currentPage === totalPages || totalPages === 0 ? 'none' : '';
        }

        function updateSavedJobsCount() {
            savedJobsCount.textContent = savedJobs.length;
        }
    </script>
</body>

</html>